<div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
  <h1 class="text-2xl font-bold text-gray-900 mb-6">Server Settings</h1>

  <%= form_with url: admin_settings_path, method: :patch, local: true, class: "space-y-6" do %>
    <div class="bg-white border border-gray-200 rounded-lg p-6">
      <h2 class="text-lg font-medium text-gray-900 mb-4">General</h2>
      <div class="space-y-4">
        <div>
          <label class="block text-sm font-medium text-gray-700">Site name</label>
          <input type="text" name="site_name" value="<%= @site_name %>" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
          <p class="text-xs text-gray-500 mt-1">Shown in headers and titles.</p>
        </div>
        <label class="flex items-center space-x-3">
          <input type="checkbox" name="allow_signups" value="1" <%= 'checked' if @allow_signups %> class="h-4 w-4 text-blue-600 border-gray-300 rounded">
          <span class="text-sm text-gray-700">Allow new user sign-ups</span>
        </label>
      </div>
    </div>

    <div class="bg-white border border-gray-200 rounded-lg p-6">
      <h2 class="text-lg font-medium text-gray-900 mb-4">PWA</h2>
      <div class="space-y-4">
        <label class="flex items-center space-x-3">
          <input type="checkbox" name="pwa_enabled" value="1" <%= 'checked' if @pwa_enabled %> class="h-4 w-4 text-blue-600 border-gray-300 rounded">
          <span class="text-sm text-gray-700">Enable installable PWA + offline cache</span>
        </label>
        <div class="grid sm:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-700">Short name</label>
            <input type="text" name="pwa_short_name" value="<%= @pwa_short_name %>" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm">
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700">Display mode</label>
            <select name="pwa_display" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm">
              <option value="standalone" <%= 'selected' if @pwa_display == 'standalone' %>>Standalone (app-like)</option>
              <option value="browser" <%= 'selected' if @pwa_display == 'browser' %>>Browser (tabs + URL bar)</option>
            </select>
          </div>
        </div>
        <div class="grid sm:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-700">Theme color</label>
            <input type="text" name="pwa_theme_color" value="<%= @pwa_theme_color %>" placeholder="#2563eb" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm">
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700">Background color</label>
            <input type="text" name="pwa_bg_color" value="<%= @pwa_bg_color %>" placeholder="#ffffff" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm">
          </div>
        </div>
        <p class="text-xs text-gray-500">Colors apply to the PWA manifest and OS UI. Icons are served from /icon.png and /icon.svg.</p>
      </div>
    </div>

    <div class="flex items-center justify-end">
      <button type="submit" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md">Save Settings</button>
    </div>
  <% end %>
</div>
